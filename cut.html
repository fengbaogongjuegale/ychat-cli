<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>Hello MUI</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">

		<!--标准mui.css-->
		<link rel="stylesheet" href="css/mui.min.css">
		<!--App自定义的css-->
		<!-- <link rel="stylesheet" type="text/css" href="../css/app.css" /> -->
		<style>
			h5 {
				margin: 5px 7px;
			}
			
			body {
				background-color: #000000;
			}
			
			.mui-bar-nav {
				top: 0;
				-webkit-box-shadow: 0 1px 6px #000;
				box-shadow: 0 1px 6px #000;
			}
			
		</style>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav" style="background-color: #2c2c2c;">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
			<h1 class="mui-title ">  </h1>
			<button type="button" class="mui-btn mui-btn-blue mui-pull-right">使用</button>
		</header>
		<div id="c" class="mui-content mui-fullscreen" style=" overflow: hidden; background-color: #000000;">
			<div id="top" style=" position: absolute;width: 100vmin; height: calc((100vmax - 80vmin) / 2);top: 0px; background-color: #000;opacity: 0.4;z-index: 1;">
				<!--上-->
			</div>
			<div id="bpic" style="position: absolute;height: 80vmin; width: 80vmin;top:calc((100vmax - 80vmin) / 2) ;left: 10vmin;">
				<!--中-->
				<img id="i" style="position: absolute;left: 0px;top: 0px;right: 0px;bottom: 0px;" onload=reSizeImg(this) src="img/b5.jpg" />
			</div>
			<div style=" position: absolute;height:80vmin;width: 10vmin; top:calc((100vmax - 80vmin) / 2);left:0px;background-color: #000;opacity: 0.4;z-index: 1;">
				<!--左-->
			</div>
			<div style=" position: absolute;height:80vmin;width: 10vmin; top:calc((100vmax - 80vmin) / 2);left:90vmin;background-color: #000;opacity: 0.4;z-index: 1;">
				<!--右-->
			</div>
			<div style=" position: absolute;height:calc((100vmax - 80vmin) / 2);width: 100vmin;top:calc((100vmax - 80vmin) / 2 + 80vmin);left: 0px;  background-color: #000;opacity: 0.4;z-index: 1;">
				<!--下-->
			</div>
			<div style="position: absolute;height:1px;width: 80vmin;top:calc((100vmax - 80vmin) / 2);left: 10vmin;background-color: #fff;z-index: 1;">
				<!--上边框-->
			</div>
			<div style="position: absolute;height:1px;width: calc(80vmin + 1px);top:calc(50vmax + 40vmin);left: 10vmin;background-color: #fff;z-index: 1;">
				<!--下边框-->
			</div>
			<div style="position: absolute;height:80vmin;width: 1px;top:calc((100vmax - 80vmin) / 2);left: 10vmin;background-color: #fff;z-index: 1;">
				<!--左边框-->
			</div>
			<div style="position: absolute;height:80vmin;width: 1px;top:calc((100vmax - 80vmin) / 2);left: 90vmin;background-color: #fff;z-index: 1;">
				<!--右边框-->
			</div>

			<!--<div style="position: absolute;height: 80vmin; width: 80vmin;background-color: gold;">
				<!--<img style='text-align:center; margin:0 auto; display:block;' onload=reSizeImg(this,100) src='b1.jpg' />-->
			<!--<img style="position: absolute;" onload=reSizeImg(this) src="b1.jpg"/>
			</div>-->

		</div>
		<!--<script src="js/mui.min.js"></script>-->
		<!--加了mui会有报错-->
		<script src="js/touch.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			function reSizeImg(obj) {
				var imgWidth = obj.offsetWidth;
				var imgHeight = obj.offsetHeight;
				console.log('offsetwidth:' + imgWidth);
				console.log('offsetheight:' + imgHeight);

				if(imgHeight > imgWidth) {
					console.log('1');
					obj.style.width = "100%";
					obj.style.top = "-" + (obj.offsetHeight - obj.offsetWidth) / 2 + "px";

				} else {
					console.log('2');
					//					obj.style.height = document.getElementById("bpic").height;
					obj.style.height = "100%";

					obj.style.left = "-" + (obj.offsetWidth - obj.offsetHeight) / 2 + "px";

				}
				//      console.log(+'width:'+this.width);
				//      console.log('height:'+this.height);

				//      if(imgWidth>reWidth){
				//          p=imgWidth/reWidth;
				//          cHeight=Math.floor(imgHeight/p);
				//          obj.width=reWidth;
				//          obj.height=cHeight;
				//      }
				//}
			}
		</script>
		<script type="text/javascript">
			var images1 = document.getElementById('i');
			touch.on(images1, 'pinchin', function() {
				var height1 = images1.offsetHeight;
				var width1 = images1.offsetWidth;
				rh = height1 * 0.99;
				rw = width1 * 0.99;
				images1.style.height = rh + "px";
				images1.style.width = rw + "px";
			});
			touch.on(images1, 'pinchout', function() {
				var height1 = images1.offsetHeight;
				var width1 = images1.offsetWidth;
				rh = height1 * 1.01;
				rw = width1 * 1.01;
				images1.style.height = rh + "px";
				images1.style.width = rw + "px";
			});
			var tX;
			var tY;
			var objX;
			var objY;
			touch.on(images1, 'dragstart', function(evt) {
				images1.style.position = "relative";
				objX = parseInt(images1.style.left);
				objY = parseInt(images1.style.top);
			});
			touch.on(images1, 'drag', function(evt) {
				images1.style.left = (evt.distanceX + parseInt(objX)) + "px";
				images1.style.top = (evt.distanceY + parseInt(objY)) + "px";
			})
		</script>
		<script>
			mui.init({
				swipeBack: true //启用右滑关闭功能
			});

			mui.plusReady(function() {

			});
		</script>
	</body>

</html>